<div id="create-assessment-container" class="tab" data-test="createAssessmentComponent">
	<div class="flex justify-between title-container">
		<h2>{{ "Title.CreateAssessment" | translate }}</h2>

		<div class="flex gap-2 save-actions">
			<button
				mat-flat-button
				color="accent"
				class="fit-content"
				[disabled]="form.form.invalid"
				(click)="onSave()"
			>
				{{ "Action.Create" | translate }}
			</button>
		</div>
	</div>

	<div class="flex gap-2">
		<button mat-flat-button color="primary" (click)="openSearchGroupDialog()">
			<student-mgmt-icon name="search"></student-mgmt-icon>
			{{ "Title.SearchGroup" | translate }}
		</button>

		<button mat-flat-button color="primary" (click)="openSearchParticipantDialog()">
			<student-mgmt-icon name="search"></student-mgmt-icon>
			{{ "Title.SearchParticipant" | translate }}
		</button>
	</div>

	<ng-container
		*ngIf="{ forGroup: forGroup$ | async, forParticipant: forParticipant$ | async } as obs"
	>
		<div
			class="mt-4 assessment-target"
			*ngIf="obs.forGroup || obs.forParticipant; else selectGroupOrParticipantText"
		>
			<student-mgmt-assessment-target
				[group]="obs.forGroup"
				[targetedParticipant]="obs.forParticipant"
				[participant]="participantFacade.participant$ | async"
				[courseId]="courseId"
			>
			</student-mgmt-assessment-target>
		</div>

		<ng-template #selectGroupOrParticipantText>
			<div class="mt-4 text-light">
				{{ "Text.Assessment.SelectGroupOrParticipant" | translate }}
			</div>
		</ng-template>
	</ng-container>

	<div class="mt-4">
		<student-mgmt-assessment-form
			[assignment]="assignment$ | async"
		></student-mgmt-assessment-form>
	</div>

	<div class="mt-4">
		<button
			mat-raised-button
			color="accent"
			id="btn-create"
			[disabled]="form.form.invalid"
			(click)="onSave()"
		>
			{{ "Action.Create" | translate }}
		</button>
	</div>
</div>
